<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Life Stats Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <h1>ğŸ® Personal Life Statistics Dashboard</h1>
    
    <div id="status" class="status">Initializing...</div>

    <div class="tabs">
      <button class="tab active" data-tab="dashboard">ğŸ“Š Dashboard</button>
      <button class="tab" data-tab="input">â• Add Data</button>
      <button class="tab" data-tab="history">ğŸ“ˆ History</button>
      <button class="tab" data-tab="achievements">ğŸ† Achievements</button>
      <button class="tab" data-tab="projections">ğŸ”® Projections</button>
      <button class="tab" data-tab="settings">âš™ï¸ Settings</button>
    </div>

    <!-- DASHBOARD TAB -->
    <div id="dashboard" class="content active">
      <div class="overall-score">
        <h2>Overall Weighted Score</h2>
        <div class="score" id="overallScore">--</div>
        <p>Based on your personalized importance weights</p>
      </div>

      <div id="warnings"></div>
      
      <div class="dashboard-grid" id="statsGrid"></div>
    </div>

    <!-- INPUT TAB -->
    <div id="input" class="content">
      <div class="input-section">
        <h2>Add New Stat Entry</h2>
        <form id="statForm">
          <div class="form-group">
            <label>Category</label>
            <select id="categorySelect" required>
              <option value="">Select Category...</option>
            </select>
          </div>
          <div class="form-group">
            <label>Sub-Stat</label>
            <select id="subStatSelect" required>
              <option value="">Select Sub-Stat...</option>
            </select>
          </div>
          <div class="form-group">
            <label>Raw Value</label>
            <input type="number" id="valueInput" placeholder="e.g., 75kg, 120 IQ, $50000">
          </div>
          <div class="form-group">
            <label>Percentile (0-100)</label>
            <input type="number" id="percentileInput" placeholder="e.g., 75" min="0" max="100" required>
          </div>
          <div class="form-group">
            <label>Comparison Group</label>
            <select id="comparisonGroup">
              <option value="age_25-30">Age 25-30</option>
              <option value="age_30-35">Age 30-35</option>
              <option value="profession_tech">Tech Industry</option>
              <option value="location_canada">Canada</option>
              <option value="general">General Population</option>
            </select>
          </div>
          <div class="form-group">
            <label>Notes (optional)</label>
            <textarea id="notesInput" rows="3" placeholder="Context, how you measured this, etc."></textarea>
          </div>
          <button type="submit">Add Entry</button>
        </form>
      </div>
    </div>

    <!-- HISTORY TAB -->
    <div id="history" class="content">
      <div class="chart-container">
        <h2>Progress Over Time</h2>
        <canvas id="historyChart"></canvas>
      </div>
    </div>

    <!-- ACHIEVEMENTS TAB -->
    <div id="achievements" class="content">
      <h2 style="color: white; margin-bottom: 20px;">ğŸ† Achievements & Milestones</h2>
      <div class="achievements" id="achievementsList"></div>
    </div>

    <!-- PROJECTIONS TAB -->
    <div id="projections" class="content">
      <div class="projection-timeline">
        <h2>Future Projections</h2>
        <canvas id="projectionChart"></canvas>
        <div id="projectionInsights" style="margin-top: 20px;"></div>
      </div>
    </div>

    <!-- SETTINGS TAB -->
    <div id="settings" class="content">
      <div class="input-section">
        <h2>Category Importance Weights</h2>
        <p style="margin-bottom: 20px; color: #666;">Adjust how much each domain matters to you (1-10)</p>
        <form id="weightsForm">
          <div id="weightsFormContent"></div>
          <button type="submit">Save Weights</button>
        </form>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
